# https://moonrepo.dev/docs/config/project
$schema: 'https://moonrepo.dev/schemas/project.json'

type: 'application'
language: 'typescript'

tasks:
  install:
    command: 'bun install'
    inputs:
      - 'package.json'
      - 'bun.lock'
    outputs:
      - 'node_modules'

  dev:
    command: 'bun run dev'
    deps:
      - '~:install'
    local: true

  build:
    command: 'bun run build'
    deps:
      - '~:install'
    inputs:
      - 'src/**/*'
      - 'public/**/*'
      - 'package.json'
      - 'next.config.js'
      - 'tsconfig.json'
      - 'tailwind.config.js'
      - 'postcss.config.js'
    outputs:
      - '.next/**/*'

  lint:
    command: 'bun run lint'
    deps:
      - '~:install'
    inputs:
      - 'src/**/*'
      - 'package.json'

  typecheck:
    command: 'bunx tsc --noEmit'
    deps:
      - '~:install'
    inputs:
      - 'src/**/*'
      - 'tsconfig.json'
